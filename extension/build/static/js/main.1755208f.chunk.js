(this.webpackJsonphomepage=this.webpackJsonphomepage||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),r=n.n(i),o=n(21),a=n.n(o),l=(n(32),n(15)),s=n(3),u=(n(33),n(5)),d=n.n(u),j=n(20),b=n(8);function h(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=null;try{return(c=!0===n?localStorage.getItem(e):sessionStorage.getItem(e))?JSON.parse(c):t}catch(i){return console.log("Error while getting value for key: ".concat(e,". Value: ").concat(c)),console.error(i),t}}function f(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&(t=JSON.stringify(t),!0===n?localStorage.setItem(e,t):sessionStorage.setItem(e,t))}function v(e){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(d.a.mark((function e(t){var n,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=h(t))){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,fetch("https://cors-anywhere.herokuapp.com/https://s2.googleusercontent.com/s2/favicons?domain="+t);case 5:return c=e.sent,e.next=8,c.blob();case 8:return i=e.sent,e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onloadend=function(){var c=n.result;console.log(c),f(t,c,!0),e(c)},n.readAsDataURL(i)})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return n=e.sent,e.abrupt("return",Object(c.jsx)("img",{src:n,alt:""}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(35);var x=n(42),m=n(43);function w(e){return k.apply(this,arguments)}function k(){return(k=Object(b.a)(d.a.mark((function e(t){var n,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(n=/^(?:http[s]?:\/\/)?(?:www.)?([\w.]+)/,c=t.match(n),!(i=c?c[1]:null)){e.next=11;break}return e.next=8,g(i);case 8:return e.abrupt("return",e.sent);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=Object(i.useState)(!1),n=Object(s.a)(t,2),r=n[0],o=n[1],a=null;return r&&(a=Object(c.jsx)("div",{className:"settings-button",onClick:function(){return e.openSettings()},children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-gear-fill",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})})})),Object(c.jsx)("div",{className:"settings-button-container",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:a})}function S(e){var t;return Object(c.jsxs)("div",{className:"site-group",style:{width:null!==(t=e.width)&&void 0!==t?t:"50vw"},children:[e.sites.map((function(t,n){return function(t,n){var i=t.id;return t.content?Object(c.jsx)(D,{id:i,content:t.content,title:t.title,isOpen:t.isOpen,move:e.move,setOpen:e.setOpen,showDialog:e.showDialog,add:e.add,hideAdd:e.hideAdd},n):Object(c.jsx)(N,{canAcceptFolder:-1===e.id,move:e.move,id:i,showDialog:e.showDialog,url:t.url,title:t.title},n)}(t,n)})),e.hideAdd?null:Object(c.jsx)(C,{add:function(){return e.add(e.id)}})]})}function C(e){return Object(c.jsxs)("div",{className:"site-container",style:{cursor:"pointer"},onClick:e.add,children:[Object(c.jsx)("div",{className:"favicon-container",style:{color:"gray"},children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-plus",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})}),Object(c.jsx)("div",{className:"site-title",children:"Add"})]})}function N(e){var t=Object(x.a)({item:{type:"site",id:e.id}}),n=Object(s.a)(t,2)[1],r=Object(m.a)({accept:e.canAcceptFolder?["site","folder"]:"site",canDrop:function(){return!1},hover:function(t){var n=t.id;n!==e.id&&(console.log(e.id),console.log(n),e.move(n,e.id))}}),o=Object(s.a)(r,2)[1],a=Object(i.useState)(null),l=Object(s.a)(a,2),u=l[0],d=l[1],j=Object(i.useState)(!1),b=Object(s.a)(j,2),h=b[0],f=b[1];return Object(i.useEffect)((function(){e.url&&w(e.url).then((function(e){return d(e)}))}),[e.url]),Object(c.jsxs)("a",{ref:function(e){return n(o(e))},className:"site-container",href:e.url,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:[Object(c.jsx)("div",{className:"options-button",hidden:!h||void 0,onClick:function(t){t.preventDefault(),e.showDialog(e.id)},children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})})}),Object(c.jsx)("div",{className:"favicon-container",children:u}),Object(c.jsx)("div",{className:"site-title",children:e.title})]})}function A(e){var t=e.title,n=e.content,i=e.id,r=e.cols,o=e.rows,a=e.add,l=e.showDialog,u=e.move,d=e.hideAdd,j=Object(m.a)({accept:"site",hover:function(e){var t=e.id,c=0!==n.filter((function(e){return e.id===t})).length;t===i||c||(console.log(i),console.log(t),u(t,i,!0))}}),b=Object(s.a)(j,2)[1],h=null;return t&&(h=Object(c.jsx)("div",{className:"folder-title",children:Object(c.jsx)("p",{children:t})})),Object(c.jsxs)("div",{ref:b,className:"folder",children:[Object(c.jsx)("div",{style:{width:100*r,height:100*o,background:"#23272E",margin:"10px"},children:Object(c.jsx)(S,{width:"100%",add:a,sites:n,hideAdd:d,showDialog:l,move:u,id:i})}),h]})}function D(e){var t=Object(x.a)({item:{type:"folder",id:e.id},canDrag:function(){return!e.isOpen}}),n=Object(s.a)(t,2)[1],o=Object(m.a)({accept:["site","folder"],canDrop:function(){return!1},hover:function(t,n){var c=t.id;c!==e.id&&n.isOver({shallow:!0})&&(console.log(e.id),console.log(c),e.move(c,e.id))}}),a=Object(s.a)(o,2)[1],l=Object(i.useState)(!1),u=Object(s.a)(l,2),d=u[0],b=u[1],h=Object(i.useState)([]),f=Object(s.a)(h,2),v=f[0],O=f[1],g=e.content.length+(e.hideAdd?0:1),p=Math.max(2,Math.ceil(Math.sqrt(g))),k=Math.max(1,Math.ceil(g/p));Object(i.useEffect)((function(){var t=e.content.slice(0,4).map((function(e){return w(e.url)}));Promise.all(t).then(O)}),[e.content]);var y=null;return!0===e.isOpen&&(y=Object(c.jsx)(A,Object(j.a)(Object(j.a)({},e),{},{cols:p,rows:k}))),Object(c.jsxs)("div",{ref:function(e){return n(a(e))},className:"site-container",style:{cursor:"pointer"},onClick:function(){return e.setOpen(e.id,!0)},onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:[y,Object(c.jsx)("div",{className:"options-button",hidden:!d||void 0,onClick:function(t){t.stopPropagation(),e.showDialog(e.id)},children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})})}),Object(c.jsx)("div",{className:"favicon-container folder-icon",children:v.map((function(e,t){return Object(c.jsx)(r.a.Fragment,{children:e},t)}))}),Object(c.jsx)("div",{className:"site-title",children:e.title})]})}n(37);var E=n(23),M=n.n(E);function P(e){return Object(c.jsx)("div",{className:"dialog-container",children:Object(c.jsxs)("div",{className:"dialog settings-dialog",children:[Object(c.jsx)(L,{close:e.close}),Object(c.jsx)("h2",{children:"Settings"}),Object(c.jsx)("h4",{children:"Configuration"}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"btn",children:"Upload config file"}),Object(c.jsx)("input",{type:"file",accept:"application/json",onChange:function(t){var n=t.target.files[0],c=new FileReader;c.onload=function(t){var n=String(t.target.result),c=JSON.parse(n);c.layout?e.loadData(c):alert("Invalid config file!")},c.onerror=function(e){return alert("Error: "+e)},c.readAsText(n)},hidden:!0})]}),Object(c.jsx)("div",{className:"btn",onClick:function(){var e={};e.layout=h("layout"),e.hideAdd=h("hideAdd"),e.background=h("background"),e.hideClock=h("hideClock"),e.iconsPerRow=h("iconsPerRow");var t=JSON.stringify(e);M()(t,"config.json","application/json")},children:"Download config file"}),Object(c.jsx)("h4",{children:"Display"}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:e.hideAdd,onChange:function(t){return e.setHideAdd(t.target.checked)}}),"Hide 'add' button"]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:e.hideClock,onChange:function(t){return e.setHideClock(t.target.checked)}}),"Hide clock"]}),Object(c.jsxs)("label",{children:["Number of icons per row: ",e.iconsPerRow,Object(c.jsx)("input",{type:"range",min:"3",max:"10",value:e.iconsPerRow,onChange:function(t){return e.setIconsPerRow(t.target.value)}})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"btn",children:"Upload background image"}),Object(c.jsx)("input",{type:"file",accept:"image/*",onChange:function(t){var n=t.target.files[0],c=new FileReader;c.onload=function(){var t=c.result;e.setBackground(t)},c.onerror=function(e){return alert("Error: "+e)},c.readAsDataURL(n)},hidden:!0})]}),Object(c.jsx)("div",{className:"btn",onClick:function(){return e.setBackground(null)},children:"Reset background image"}),Object(c.jsx)("h4",{children:"Data"}),Object(c.jsx)("div",{className:"btn",onClick:e.clearStorage,style:{background:"#EF6666"},children:"Clear all data"})]})})}function R(e){var t=Object(i.useState)("site"),n=Object(s.a)(t,2),r=n[0],o=n[1],a=Object(i.useState)(""),l=Object(s.a)(a,2),u=l[0],d=l[1],j=Object(i.useState)(""),b=Object(s.a)(j,2),h=b[0],f=b[1];function v(){e.close()}var O=null;return e.canAddFolder&&(O=Object(c.jsx)("option",{value:"folder",children:"Folder"})),Object(c.jsx)("div",{className:"dialog-container",children:Object(c.jsxs)("div",{className:"dialog",children:[Object(c.jsx)(L,{close:v}),Object(c.jsx)("h4",{children:"Type"}),Object(c.jsxs)("select",{value:r,onChange:function(e){return o(e.target.value)},children:[Object(c.jsx)("option",{value:"site",children:"Site"}),O]}),Object(c.jsx)(I,{title:u,setTitle:d,url:h,setUrl:f,cancel:v,save:function(){e.callback(u,"site"===r?h:void 0),e.close()},hideDel:!0,hideUrl:"site"!==r})]})})}function F(e){var t,n,r=Object(i.useState)(null!==(t=e.title)&&void 0!==t?t:""),o=Object(s.a)(r,2),a=o[0],l=o[1],u=Object(i.useState)(null!==(n=e.url)&&void 0!==n?n:""),d=Object(s.a)(u,2),j=d[0],b=d[1];function h(){console.log("Closing dialog!"),e.close()}return Object(c.jsx)("div",{className:"dialog-container",children:Object(c.jsxs)("div",{className:"dialog",children:[Object(c.jsx)(L,{close:h}),Object(c.jsx)(I,{title:a,setTitle:l,url:j,setUrl:b,del:function(){e.callback(null,null,!0),e.close()},cancel:h,save:function(){console.log("Closing dialog and saving!"),e.callback(a,void 0===e.url?void 0:j),e.close()},hideUrl:void 0===e.url})]})})}function L(e){return Object(c.jsx)("div",{className:"close-config",onClick:e.close,children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})})}function I(e){var t=null;e.hideUrl||(t=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h4",{children:"URL"}),Object(c.jsx)("input",{type:"text",value:e.url,onChange:function(t){return e.setUrl(t.target.value)}})]}));var n=null;return e.hideDel||(n=Object(c.jsx)("td",{children:Object(c.jsx)("button",{type:"button",onClick:e.del,style:{color:"white",background:"red"},children:"Delete"})})),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),e.save()},children:[Object(c.jsx)("h4",{children:"Title"}),Object(c.jsx)("input",{type:"text",value:e.title,onChange:function(t){return e.setTitle(t.target.value)}}),t,Object(c.jsx)("table",{className:"dialog-buttons",children:Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[n,Object(c.jsx)("td",{children:Object(c.jsx)("button",{type:"submit",style:{color:"white",background:"green"},children:"Save"})})]})})})]})}var T=n(41),U=n(24),z=n.p+"static/media/space.bddbc39b.jpg";n(38);function B(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){r(new Date);var e=setInterval((function(){return r(new Date)}),1e3);return function(){return clearInterval(e)}}),[]),Object(c.jsx)("div",{id:"clock",children:null===n||void 0===n?void 0:n.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})}var H=[{id:"0",title:"Gmail",url:"https://mail.google.com/mail/u/0/"},{id:"1",title:"Facebook",url:"https://www.facebook.com/"},{id:"2",title:"Twitter",url:"https://twitter.com/home"}];function J(e){return e&&!e.match(/^http[s]?:\/\//)?"http://"+e:e}var q=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(i.useState)(!1),a=Object(s.a)(o,2),u=a[0],d=a[1],j=Object(i.useState)(null),b=Object(s.a)(j,2),v=b[0],O=b[1],g=Object(i.useState)(null),p=Object(s.a)(g,2),x=p[0],m=p[1],w=Object(i.useState)(!1),k=Object(s.a)(w,2),C=k[0],N=k[1],A=Object(i.useState)(!1),D=Object(s.a)(A,2),E=D[0],M=D[1],L=Object(i.useState)(null),I=Object(s.a)(L,2),q=I[0],G=I[1],V=Object(i.useState)(!1),K=Object(s.a)(V,2),Q=K[0],W=K[1],X=Object(i.useState)(5),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1];function _(){var e,t=[],c=Object(l.a)(n);try{for(c.s();!(e=c.n()).done;){var i=e.value;if(void 0!==i.content){var r,o=[],a=Object(l.a)(i.content);try{for(a.s();!(r=a.n()).done;){var s=r.value;o.push(Object.assign({},s))}}catch(d){a.e(d)}finally{a.f()}var u=Object.assign({},i);u.content=o,t.push(u)}else t.push(Object.assign({},i))}}catch(d){c.e(d)}finally{c.f()}return t}function ee(e){for(var t=0;t<n.length;t++){var c=n[t];if(c.id===e)return{index:[t],elem:c};if(c.content)for(var i=0;i<c.content.length;i++){var r=c.content[i];if(r.id===e)return{index:[t,i],elem:r}}}return{index:void 0,elem:void 0}}Object(i.useEffect)((function(){var e=h("layout");e?r(e):(r(H),f("layout",H));var t=h("background");t&&G(t),N(h("hideAdd",!1)),G(h("background")),W(h("hideClock",!1)),$(h("iconsPerRow",5))}),[]),Object(i.useEffect)((function(){f("layout",n)}),[n]),Object(i.useEffect)((function(){f("hideAdd",C)}),[C]),Object(i.useEffect)((function(){f("hideClock",Q)}),[Q]),Object(i.useEffect)((function(){M(!!v||!!x||!!u)}),[x,v,u]),Object(i.useEffect)((function(){f("background",q)}),[q]),Object(i.useEffect)((function(){f("iconsPerRow",Z)}),[Z]);var te=null;if(null!==v){var ne=ee(v),ce=ne.index,ie=ne.elem,re=ie.title,oe=ie.url;te=Object(c.jsx)(F,{title:re,url:oe,close:function(){return O(null)},callback:function(e,t,n){return function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=J(n);var i,o,a=_();1===e.length?(i=a,o=e[0]):(i=a[e[0]].content,o=e[1]),!0===c?i.splice(o,1):(i[o].title=t,i[o].content||(i[o].url=n)),r(a)}(ce,e,t,n)}})}var ae=null;if(null!==x){var le=x;ae=Object(c.jsx)(R,{close:function(){return m(null)},canAddFolder:-1===le,callback:function(e,t){return function(e,t,n){var c=_(),i={title:t,id:String(performance.now?performance.now():Date.now())};void 0!==n?i.url=J(n):(i.isOpen=!1,i.content=[]),-1===e?c.push(i):c[ee(e).index[0]].content.push(i),r(c)}(le,e,t)}})}var se=null;return u&&(se=Object(c.jsx)(P,{hideAdd:C,setHideAdd:N,close:function(){return d(!1)},clearStorage:function(){window.confirm("Are you sure? This will reset all settings as well as your homepage.")&&(localStorage.clear(),sessionStorage.clear(),r(H))},loadData:function(e){var t=e.layout,n=e.hideAdd,c=e.background,i=e.hideClock,o=e.iconsPerRow;r(t),N(n),G(c),W(i),$(o)},setBackground:G,hideClock:Q,setHideClock:W,iconsPerRow:Z,setIconsPerRow:$})),Object(c.jsx)("div",{className:"App",style:{background:"url(".concat(null!==q&&void 0!==q?q:z,") center")},children:Object(c.jsxs)("header",{className:"App-header",onClick:function(){return function(){var e,t=_(),n=Object(l.a)(t);try{for(n.s();!(e=n.n()).done;){var c=e.value;c.content&&!0===c.isOpen&&(c.isOpen=!1)}}catch(i){n.e(i)}finally{n.f()}r(t)}()},children:[Object(c.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(c.jsx)(y,{openSettings:function(){E||d(!0)}})}),Object(c.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[se,te,ae,Q?null:Object(c.jsx)(B,{}),Object(c.jsx)(T.a,{backend:U.a,children:Object(c.jsx)(S,{showDialog:function(e){E||O(e)},sites:n,add:function(e){E||m(e)},id:-1,setOpen:function(e,t){var n=_();n[ee(e).index[0]].isOpen=t,r(n)},hideAdd:C,move:function(e,t){var n,c,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=ee(e),l=a.index,s=ee(t),u=s.index,d=_();1===l.length?(n=d[l[0]],c=d):n=(c=d[l[0]].content)[l[1]],1===u.length?!0===o&&void 0!==d[u[0]].content?(i=d[u[0]].content,u[0]=i.length):i=d:i=d[u[0]].content,c.splice(l[l.length-1],1),i.splice(u[u.length-1],0,n),r(d)},width:"".concat(100*Z,"px")})})]})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),r(e),o(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(q,{})}),document.getElementById("root")),G()}},[[39,1,2]]]);
//# sourceMappingURL=main.1755208f.chunk.js.map