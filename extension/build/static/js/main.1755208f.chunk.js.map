{"version":3,"sources":["Storage.js","FaviconAPI.js","PageElements.js","DialogElements.js","space.jpg","ClockWidget.js","App.js","reportWebVitals.js","index.js"],"names":["storageGet","key","defaultVal","persistent","ret","localStorage","getItem","sessionStorage","JSON","parse","e","console","log","error","storageSet","val","stringify","setItem","getFaviconData","host","a","cached","fetch","response","blob","Promise","resolve","reader","FileReader","onloadend","data","result","readAsDataURL","getFaviconImg","src","alt","urlToFavicon","url","regex","matches","match","SettingsButton","props","useState","show","setShow","button","className","onClick","openSettings","xmlns","fill","viewBox","d","onMouseEnter","onMouseLeave","SiteGroup","style","width","sites","map","i","id","content","Folder","title","isOpen","move","setOpen","showDialog","add","hideAdd","Site","canAcceptFolder","createElem","AddButton","cursor","color","height","useDrag","item","type","drag","useDrop","accept","canDrop","hover","draggedId","drop","favicon","setFavicon","showSettings","setShowSettings","useEffect","then","img","ref","node","href","hidden","undefined","preventDefault","FolderContent","cols","rows","elemInFolder","filter","x","length","titleElem","background","margin","canDrag","monitor","isOver","shallow","favicons","setFavicons","len","Math","max","ceil","sqrt","promises","slice","site","all","folderContent","stopPropagation","f","Fragment","SettingsDialog","DialogClose","close","onChange","event","file","target","files","onload","text","String","layout","loadData","alert","onerror","readAsText","hideClock","iconsPerRow","dataStr","download","checked","setHideAdd","setHideClock","min","value","setIconsPerRow","dataUrl","setBackground","clearStorage","AddDialog","setType","setTitle","setUrl","cancel","folderOption","canAddFolder","ConfigBody","save","callback","hideDel","hideUrl","ConfigDialog","del","urlInput","delButton","onSubmit","Clock","time","setTime","Date","interval","setInterval","clearInterval","toLocaleTimeString","hour","minute","defaultSites","ensureProtocol","App","setSites","currentlyEditing","setCurrentlyEditing","currentlyAddingTo","setCurrentlyAddingTo","dialogsDisabled","setDialogsDisabled","cloneData","copy","push","Object","assign","getElementById","index","elem","j","saved","config","idx","arr","sitesCopy","splice","updateSite","addDialog","added","performance","now","settingsDialog","window","confirm","clear","DefaultBackground","clone","closeAllFolders","DndProvider","backend","HTML5Backend","open","toId","fromArr","toArr","intoFolder","toIdx","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document"],"mappings":"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","file":"static/js/main.1755208f.chunk.js","sourcesContent":["export function storageGet(key, defaultVal, persistent = true) {\r\n    let ret = null;\r\n    try {\r\n        if (persistent === true) {\r\n            ret = localStorage.getItem(key);\r\n        } else {\r\n            ret = sessionStorage.getItem(key);\r\n        }\r\n        return ret ? JSON.parse(ret) : defaultVal;\r\n    } catch (e) {\r\n        console.log(`Error while getting value for key: ${key}. Value: ${ret}`);\r\n        console.error(e);\r\n        return defaultVal;\r\n    }\r\n}\r\n\r\nexport function storageSet(key, val, persistent = true) {\r\n    if (val) {\r\n        val = JSON.stringify(val);\r\n        if (persistent === true) {\r\n            localStorage.setItem(key, val);\r\n        } else {\r\n            sessionStorage.setItem(key, val);\r\n        }\r\n    }\r\n}\r\n\r\nexport function storageClear() {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n}\r\n","import {storageGet, storageSet} from \"./Storage\";\r\n\r\nexport async function getFaviconData(host) {\r\n    let cached = storageGet(host);\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    let response = await fetch(\"https://cors-anywhere.herokuapp.com/https://s2.googleusercontent.com/s2/favicons?domain=\" + host);\r\n    let blob = await response.blob();\r\n    return new Promise(resolve => {\r\n        let reader = new FileReader();\r\n        reader.onloadend = function () {\r\n            let data = reader.result;\r\n            console.log(data);\r\n            storageSet(host, data, true);\r\n            resolve(data);\r\n        }\r\n        reader.readAsDataURL(blob);\r\n    });\r\n}\r\n\r\nexport async function getFaviconImg(host) {\r\n    let data = await getFaviconData(host);\r\n    return <img src={data} alt=\"\"/>\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {getFaviconImg} from \"./FaviconAPI\";\r\nimport \"./PageElements.css\";\r\nimport {useDrag, useDrop} from \"react-dnd\";\r\n\r\nasync function urlToFavicon(url) {\r\n    if (!url) {\r\n        return null;\r\n    }\r\n    const regex = /^(?:http[s]?:\\/\\/)?(?:www.)?([\\w.]+)/;\r\n    let matches = url.match(regex);\r\n    let host = matches ? matches[1] : null;\r\n    if (host) {\r\n        return await getFaviconImg(host);\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function SettingsButton(props) {\r\n    const [show, setShow] = useState(false);\r\n\r\n    let button = null;\r\n    if (show) {\r\n        button = (\r\n            <div className=\"settings-button\" onClick={() => props.openSettings()}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\"\r\n                     className=\"bi bi-gear-fill\" viewBox=\"0 0 16 16\">\r\n                    <path\r\n                        d=\"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z\"/>\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-button-container\" onMouseEnter={() => setShow(true)}\r\n             onMouseLeave={() => setShow(false)}>\r\n            {button}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function SiteGroup(props) {\r\n    function createElem(data, i) {\r\n        let id = data.id;\r\n        if (data.content) { // data is folder\r\n            return <Folder key={i} id={id} content={data.content} title={data.title} isOpen={data.isOpen}\r\n                           move={props.move}\r\n                           setOpen={props.setOpen} showDialog={props.showDialog} add={props.add}\r\n                           hideAdd={props.hideAdd}/>\r\n        } else {\r\n            return <Site canAcceptFolder={props.id === -1} key={i} move={props.move} id={id}\r\n                         showDialog={props.showDialog}\r\n                         url={data.url} title={data.title}/>\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"site-group\" style={{width: props.width ?? \"50vw\"}}>\r\n            {props.sites.map((data, i) => createElem(data, i))}\r\n            {props.hideAdd ? null : <AddButton add={() => props.add(props.id)}/>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function AddButton(props) {\r\n    return (\r\n        <div className=\"site-container\" style={{cursor: \"pointer\"}} onClick={props.add}>\r\n            <div className=\"favicon-container\" style={{color: \"gray\"}}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\"\r\n                     className=\"bi bi-plus\" viewBox=\"0 0 16 16\">\r\n                    <path\r\n                        d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\r\n                </svg>\r\n            </div>\r\n            <div className=\"site-title\">\r\n                Add\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function Site(props) {\r\n    const [, drag] = useDrag({\r\n        item: {type: \"site\", id: props.id}\r\n    });\r\n\r\n    const [, drop] = useDrop({\r\n        accept: props.canAcceptFolder ? [\"site\", \"folder\"] : \"site\",\r\n        canDrop: () => false,\r\n        hover: function (item) {\r\n            let draggedId = item.id;\r\n            if (draggedId !== props.id) {\r\n                console.log(props.id);\r\n                console.log(draggedId);\r\n                props.move(draggedId, props.id);\r\n            }\r\n        }\r\n    });\r\n\r\n    const [favicon, setFavicon] = useState(null);\r\n    const [showSettings, setShowSettings] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (props.url) {\r\n            urlToFavicon(props.url).then(img => setFavicon(img));\r\n        }\r\n    }, [props.url]);\r\n\r\n    function settingsClicked(e) {\r\n        e.preventDefault();\r\n        props.showDialog(props.id);\r\n    }\r\n\r\n    return (\r\n        <a ref={node => drag(drop(node))} className={\"site-container\"} href={props.url}\r\n           onMouseEnter={() => setShowSettings(true)}\r\n           onMouseLeave={() => setShowSettings(false)}>\r\n            <div className=\"options-button\" hidden={showSettings ? undefined : true} onClick={settingsClicked}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                     className=\"bi bi-three-dots-vertical\" viewBox=\"0 0 16 16\">\r\n                    <path\r\n                        d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\r\n                </svg>\r\n            </div>\r\n            <div className={\"favicon-container\"}>\r\n                {favicon}\r\n            </div>\r\n            <div className=\"site-title\">\r\n                {props.title}\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\nfunction FolderContent({title, content, id, cols, rows, add, showDialog, move, hideAdd}) {\r\n    const [, drop] = useDrop({\r\n        accept: \"site\",\r\n        hover: function (item) {\r\n            let draggedId = item.id;\r\n            let elemInFolder = content.filter(x => x.id === draggedId).length !== 0;\r\n            if (draggedId !== id && !elemInFolder) {\r\n                console.log(id);\r\n                console.log(draggedId);\r\n                move(draggedId, id, true);\r\n            }\r\n        }\r\n    });\r\n\r\n    let titleElem = null;\r\n    if (title) {\r\n        titleElem = (\r\n            <div className=\"folder-title\">\r\n                <p>\r\n                    {title}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div ref={drop} className=\"folder\">\r\n            <div style={{width: cols * 100, height: rows * 100, background: \"#23272E\", margin: \"10px\"}}>\r\n                <SiteGroup width=\"100%\" add={add} sites={content} hideAdd={hideAdd}\r\n                           showDialog={showDialog} move={move} id={id}/>\r\n            </div>\r\n            {titleElem}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function Folder(props) {\r\n    const [, drag] = useDrag({\r\n        item: {type: \"folder\", id: props.id},\r\n        canDrag: () => !props.isOpen\r\n    });\r\n\r\n    const [, drop] = useDrop({\r\n        accept: [\"site\", \"folder\"],\r\n        canDrop: () => false,\r\n        hover: function (item, monitor) {\r\n            let draggedId = item.id;\r\n            if (draggedId !== props.id && monitor.isOver({shallow: true})) {\r\n                console.log(props.id);\r\n                console.log(draggedId);\r\n                props.move(draggedId, props.id);\r\n            }\r\n        }\r\n    });\r\n\r\n    const [showSettings, setShowSettings] = useState(false);\r\n    const [favicons, setFavicons] = useState([]);\r\n\r\n    let len = props.content.length + (props.hideAdd ? 0 : 1); // add one to account for add icon, if not hidden\r\n    let cols = Math.max(2, Math.ceil(Math.sqrt(len)));\r\n    let rows = Math.max(1, Math.ceil(len / cols));\r\n\r\n    useEffect(function () {\r\n        let promises = props.content.slice(0, 4).map(site => urlToFavicon(site.url));\r\n        Promise.all(promises).then(setFavicons);\r\n    }, [props.content]);\r\n\r\n    function settingsClicked(e) {\r\n        e.stopPropagation();\r\n        props.showDialog(props.id);\r\n    }\r\n\r\n    let folderContent = null;\r\n    if (props.isOpen === true) {\r\n        folderContent = <FolderContent {...props} cols={cols} rows={rows}/>\r\n    }\r\n\r\n    return (\r\n        <div ref={node => drag(drop(node))} className=\"site-container\" style={{cursor: \"pointer\"}}\r\n             onClick={() => props.setOpen(props.id, true)} onMouseEnter={() => setShowSettings(true)}\r\n             onMouseLeave={() => setShowSettings(false)}>\r\n            {folderContent}\r\n            <div className=\"options-button\" hidden={showSettings ? undefined : true} onClick={settingsClicked}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                     className=\"bi bi-three-dots-vertical\" viewBox=\"0 0 16 16\">\r\n                    <path\r\n                        d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\r\n                </svg>\r\n            </div>\r\n            <div className=\"favicon-container folder-icon\">\r\n                {favicons.map((f, i) => <React.Fragment key={i}>{f}</React.Fragment>)}\r\n            </div>\r\n            <div className=\"site-title\">\r\n                {props.title}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React, {useState} from \"react\";\r\nimport \"./DialogElements.css\";\r\nimport {storageGet} from \"./Storage\";\r\nimport download from \"downloadjs\";\r\n\r\nexport function SettingsDialog(props) {\r\n    function onConfigFileChange(event) {\r\n        let file = event.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onload = function (e) {\r\n            let text = String(e.target.result);\r\n            let data = JSON.parse(text);\r\n            if (data.layout) {\r\n                props.loadData(data);\r\n            } else {\r\n                alert(\"Invalid config file!\");\r\n            }\r\n        }\r\n        reader.onerror = e => alert(\"Error: \" + e);\r\n        reader.readAsText(file);\r\n    }\r\n\r\n    function downloadConfig() {\r\n        let data = {};\r\n        data.layout = storageGet(\"layout\");\r\n        data.hideAdd = storageGet(\"hideAdd\");\r\n        data.background = storageGet(\"background\");\r\n        data.hideClock = storageGet(\"hideClock\");\r\n        data.iconsPerRow = storageGet(\"iconsPerRow\");\r\n        let dataStr = JSON.stringify(data);\r\n        download(dataStr, \"config.json\", \"application/json\");\r\n    }\r\n\r\n    function onBackgroundFileChange(event) {\r\n        let file = event.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onload = function () {\r\n            let dataUrl = reader.result;\r\n            props.setBackground(dataUrl);\r\n        }\r\n        reader.onerror = e => alert(\"Error: \" + e);\r\n        reader.readAsDataURL(file);\r\n    }\r\n\r\n    return (\r\n        <div className=\"dialog-container\">\r\n            <div className=\"dialog settings-dialog\">\r\n                <DialogClose close={props.close}/>\r\n                <h2>Settings</h2>\r\n                <h4>Configuration</h4>\r\n                <label>\r\n                    <div className=\"btn\">Upload config file</div>\r\n                    <input type=\"file\" accept=\"application/json\" onChange={onConfigFileChange} hidden/>\r\n                </label>\r\n                <div className=\"btn\" onClick={downloadConfig}>Download config file</div>\r\n                <h4>Display</h4>\r\n                <label>\r\n                    <input type=\"checkbox\" checked={props.hideAdd} onChange={e => props.setHideAdd(e.target.checked)}/>\r\n                    Hide 'add' button\r\n                </label>\r\n                <label>\r\n                    <input type=\"checkbox\" checked={props.hideClock}\r\n                           onChange={e => props.setHideClock(e.target.checked)}/>\r\n                    Hide clock\r\n                </label>\r\n                <label>\r\n                    Number of icons per row: {props.iconsPerRow}\r\n                    <input type=\"range\" min=\"3\" max=\"10\" value={props.iconsPerRow}\r\n                           onChange={e => props.setIconsPerRow(e.target.value)}/>\r\n                </label>\r\n                <label>\r\n                    <div className=\"btn\">Upload background image</div>\r\n                    <input type=\"file\" accept=\"image/*\" onChange={onBackgroundFileChange} hidden/>\r\n                </label>\r\n                <div className=\"btn\" onClick={() => props.setBackground(null)}>Reset background image</div>\r\n                <h4>Data</h4>\r\n                <div className=\"btn\" onClick={props.clearStorage} style={{background: \"#EF6666\"}}>Clear all data</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function AddDialog(props) {\r\n    const [type, setType] = useState(\"site\");\r\n    const [title, setTitle] = useState(\"\");\r\n    const [url, setUrl] = useState(\"\");\r\n\r\n    function cancel() {\r\n        props.close();\r\n    }\r\n\r\n    function save() {\r\n        props.callback(title, type === \"site\" ? url : undefined);\r\n        props.close();\r\n    }\r\n\r\n    let folderOption = null;\r\n    if (props.canAddFolder) {\r\n        folderOption = <option value=\"folder\">Folder</option>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"dialog-container\">\r\n            <div className=\"dialog\">\r\n                <DialogClose close={cancel}/>\r\n                <h4>Type</h4>\r\n                <select value={type} onChange={e => setType(e.target.value)}>\r\n                    <option value=\"site\">Site</option>\r\n                    {folderOption}\r\n                </select>\r\n                <ConfigBody title={title} setTitle={setTitle} url={url} setUrl={setUrl} cancel={cancel} save={save}\r\n                            hideDel={true} hideUrl={type !== \"site\"}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ConfigDialog(props) {\r\n    const [title, setTitle] = useState(props.title ?? \"\");\r\n    const [url, setUrl] = useState(props.url ?? \"\");\r\n\r\n    function cancel() {\r\n        console.log(\"Closing dialog!\");\r\n        props.close();\r\n    }\r\n\r\n    function del() {\r\n        props.callback(null, null, true);\r\n        props.close();\r\n    }\r\n\r\n    function save() {\r\n        console.log(\"Closing dialog and saving!\");\r\n        props.callback(title, props.url === undefined ? undefined : url);\r\n        props.close();\r\n    }\r\n\r\n    return (\r\n        <div className=\"dialog-container\">\r\n            <div className=\"dialog\">\r\n                <DialogClose close={cancel}/>\r\n                <ConfigBody title={title} setTitle={setTitle} url={url} setUrl={setUrl} del={del} cancel={cancel}\r\n                            save={save}\r\n                            hideUrl={props.url === undefined}/>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nfunction DialogClose(props) {\r\n    return (\r\n        <div className=\"close-config\" onClick={props.close}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-x\"\r\n                 viewBox=\"0 0 16 16\">\r\n                <path\r\n                    d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n            </svg>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ConfigBody(props) {\r\n    let urlInput = null;\r\n    if (!props.hideUrl) {\r\n        urlInput = (\r\n            <>\r\n                <h4>URL</h4>\r\n                <input type=\"text\" value={props.url} onChange={e => props.setUrl(e.target.value)}/>\r\n            </>\r\n        );\r\n    }\r\n\r\n    let delButton = null;\r\n    if (!props.hideDel) {\r\n        delButton = (\r\n            <td>\r\n                <button type=\"button\" onClick={props.del} style={{color: \"white\", background: \"red\"}}>Delete</button>\r\n            </td>\r\n        );\r\n    }\r\n\r\n    function onSubmit(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        props.save();\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n            <h4>Title</h4>\r\n            <input type=\"text\" value={props.title} onChange={e => props.setTitle(e.target.value)}/>\r\n            {urlInput}\r\n            <table className=\"dialog-buttons\">\r\n                <tbody>\r\n                    <tr>\r\n                        {delButton}\r\n                        <td>\r\n                            <button type=\"submit\" style={{color: \"white\", background: \"green\"}}>Save</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/space.bddbc39b.jpg\";","import React, {useEffect, useState} from \"react\";\r\nimport \"./Clock.css\";\r\n\r\nexport default function Clock() {\r\n    const [time, setTime] = useState(null);\r\n\r\n    useEffect(function () {\r\n        setTime(new Date());\r\n        const interval = setInterval(() => setTime(new Date()), 1000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    return (\r\n        <div id=\"clock\">\r\n            {time?.toLocaleTimeString([], {hour: \"numeric\", minute: \"2-digit\"})}\r\n        </div>\r\n    );\r\n}\r\n","import './App.css';\r\nimport React, {useState, useEffect} from 'react';\r\nimport {SettingsButton, SiteGroup} from \"./PageElements\";\r\nimport {AddDialog, ConfigDialog, SettingsDialog} from \"./DialogElements\";\r\nimport {storageGet, storageSet, storageClear} from \"./Storage\";\r\nimport {DndProvider} from \"react-dnd\";\r\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\r\nimport DefaultBackground from \"./space.jpg\";\r\nimport Clock from \"./ClockWidget\";\r\n\r\nconst defaultSites = [\r\n    {id: \"0\", title: \"Gmail\", url: \"https://mail.google.com/mail/u/0/\"},\r\n    {id: \"1\", title: \"Facebook\", url: \"https://www.facebook.com/\"},\r\n    {id: \"2\", title: \"Twitter\", url: \"https://twitter.com/home\"}\r\n];\r\n\r\nfunction getTimeStr() {\r\n    return String(performance.now ? performance.now() : Date.now());\r\n}\r\n\r\nfunction ensureProtocol(url) {\r\n    return url && !url.match(/^http[s]?:\\/\\//) ? \"http://\" + url : url;\r\n}\r\n\r\nfunction App() {\r\n    const [sites, setSites] = useState([]);\r\n    const [showSettings, setShowSettings] = useState(false);\r\n    const [currentlyEditing, setCurrentlyEditing] = useState(null); // id of site being edited, or null\r\n    const [currentlyAddingTo, setCurrentlyAddingTo] = useState(null); // id of group being added to, or null\r\n    const [hideAdd, setHideAdd] = useState(false);\r\n    const [dialogsDisabled, setDialogsDisabled] = useState(false);\r\n    const [background, setBackground] = useState(null);\r\n    const [hideClock, setHideClock] = useState(false);\r\n    const [iconsPerRow, setIconsPerRow] = useState(5);\r\n\r\n    useEffect(function () {\r\n        let saved = storageGet(\"layout\");\r\n        if (saved) {\r\n            setSites(saved);\r\n        } else {\r\n            setSites(defaultSites);\r\n            storageSet(\"layout\", defaultSites);\r\n        }\r\n\r\n        let background = storageGet(\"background\");\r\n        if (background) {\r\n            setBackground(background);\r\n        }\r\n\r\n        setHideAdd(storageGet(\"hideAdd\", false));\r\n        setBackground(storageGet(\"background\"));\r\n        setHideClock(storageGet(\"hideClock\", false));\r\n        setIconsPerRow(storageGet(\"iconsPerRow\", 5));\r\n    }, []);\r\n\r\n    useEffect(function () {\r\n        storageSet(\"layout\", sites);\r\n    }, [sites]);\r\n\r\n    useEffect(function () {\r\n        storageSet(\"hideAdd\", hideAdd);\r\n    }, [hideAdd]);\r\n\r\n    useEffect(function () {\r\n        storageSet(\"hideClock\", hideClock);\r\n    }, [hideClock]);\r\n\r\n    useEffect(function () {\r\n        setDialogsDisabled(!!currentlyEditing || !!currentlyAddingTo || !!showSettings);\r\n    }, [currentlyAddingTo, currentlyEditing, showSettings]);\r\n\r\n    useEffect(function () {\r\n        storageSet(\"background\", background);\r\n    }, [background]);\r\n\r\n    useEffect(function () {\r\n        storageSet(\"iconsPerRow\", iconsPerRow);\r\n    }, [iconsPerRow]);\r\n\r\n    function showConfigDialog(id) {\r\n        if (!dialogsDisabled) {\r\n            setCurrentlyEditing(id);\r\n        }\r\n    }\r\n\r\n    function showAddDialog(id) {\r\n        if (!dialogsDisabled) {\r\n            setCurrentlyAddingTo(id);\r\n        }\r\n    }\r\n\r\n    function showSettingsMenu() {\r\n        if (!dialogsDisabled) {\r\n            setShowSettings(true);\r\n        }\r\n    }\r\n\r\n    function cloneData() {\r\n        let copy = [];\r\n        for (let data of sites) {\r\n            if (data.content !== undefined) {\r\n                let content = [];\r\n                for (let site of data.content) {\r\n                    content.push(Object.assign({}, site));\r\n                }\r\n                let d = Object.assign({}, data);\r\n                d.content = content;\r\n                copy.push(d);\r\n            } else {\r\n                copy.push(Object.assign({}, data));\r\n            }\r\n        }\r\n        return copy;\r\n    }\r\n\r\n    function setFolderOpen(id, open) {\r\n        let copy = cloneData();\r\n        let {index: idx} = getElementById(id);\r\n        copy[idx[0]].isOpen = open;\r\n        setSites(copy);\r\n    }\r\n\r\n    function closeAllFolders() {\r\n        let clone = cloneData();\r\n        for (let data of clone) {\r\n            if (data.content && data.isOpen === true) {\r\n                data.isOpen = false;\r\n            }\r\n        }\r\n        setSites(clone);\r\n    }\r\n\r\n    function updateSite(idx, title, url, del = false) {\r\n        url = ensureProtocol(url);\r\n        let sitesCopy = cloneData();\r\n        let arr, i;\r\n        if (idx.length === 1) {\r\n            arr = sitesCopy;\r\n            i = idx[0];\r\n        } else {\r\n            arr = sitesCopy[idx[0]].content;\r\n            i = idx[1];\r\n        }\r\n        if (del === true) {\r\n            arr.splice(i, 1);\r\n        } else {\r\n            arr[i].title = title;\r\n            if (!arr[i].content) { // if it's not a folder\r\n                arr[i].url = url;\r\n            }\r\n        }\r\n        setSites(sitesCopy);\r\n    }\r\n\r\n    function add(id, title, url) {\r\n        let sitesCopy = cloneData();\r\n        let added = {title: title, id: getTimeStr()};\r\n        if (url !== undefined) {\r\n            added.url = ensureProtocol(url);\r\n        } else {\r\n            added.isOpen = false;\r\n            added.content = [];\r\n        }\r\n        if (id === -1) {\r\n            sitesCopy.push(added);\r\n        } else {\r\n            let {index: idx} = getElementById(id);\r\n            sitesCopy[idx[0]].content.push(added);\r\n        }\r\n\r\n        setSites(sitesCopy);\r\n    }\r\n\r\n    function getElementById(id) {\r\n        for (let i = 0; i < sites.length; i++) {\r\n            let data = sites[i];\r\n            if (data.id === id) {\r\n                return {index: [i], elem: data};\r\n            } else if (data.content) {\r\n                for (let j = 0; j < data.content.length; j++) {\r\n                    let d = data.content[j];\r\n                    if (d.id === id) {\r\n                        return {index: [i, j], elem: d};\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return {index: undefined, elem: undefined};\r\n    }\r\n\r\n    function clearStorage() {\r\n        if (window.confirm(\"Are you sure? This will reset all settings as well as your homepage.\")) {\r\n            storageClear();\r\n            setSites(defaultSites);\r\n        }\r\n    }\r\n\r\n    function loadData({layout, hideAdd, background, hideClock, iconsPerRow}) {\r\n        setSites(layout);\r\n        setHideAdd(hideAdd);\r\n        setBackground(background);\r\n        setHideClock(hideClock);\r\n        setIconsPerRow(iconsPerRow);\r\n    }\r\n\r\n    function move(id, toId, intoFolder = false) {\r\n        let {index: idx} = getElementById(id);\r\n        let {index: toIdx} = getElementById(toId);\r\n        let copy = cloneData();\r\n        let elem;\r\n        let fromArr;\r\n        if (idx.length === 1) {\r\n            elem = copy[idx[0]];\r\n            fromArr = copy;\r\n        } else {\r\n            fromArr = copy[idx[0]].content;\r\n            elem = fromArr[idx[1]];\r\n        }\r\n\r\n        let toArr;\r\n        if (toIdx.length === 1) {\r\n            if (intoFolder === true && copy[toIdx[0]].content !== undefined) {\r\n                toArr = copy[toIdx[0]].content;\r\n                toIdx[0] = toArr.length;\r\n            } else {\r\n                toArr = copy;\r\n            }\r\n        } else {\r\n            toArr = copy[toIdx[0]].content;\r\n        }\r\n        fromArr.splice(idx[idx.length - 1], 1);\r\n        toArr.splice(toIdx[toIdx.length - 1], 0, elem);\r\n        setSites(copy);\r\n    }\r\n\r\n    let config = null;\r\n    if (currentlyEditing !== null) {\r\n        let {index: idx, elem: {title, url}} = getElementById(currentlyEditing);\r\n        config = <ConfigDialog title={title} url={url} close={() => setCurrentlyEditing(null)}\r\n                               callback={(title, url, del) => updateSite(idx, title, url, del)}/>\r\n    }\r\n\r\n    let addDialog = null;\r\n    if (currentlyAddingTo !== null) {\r\n        let id = currentlyAddingTo;\r\n        addDialog = <AddDialog close={() => setCurrentlyAddingTo(null)} canAddFolder={id === -1}\r\n                               callback={(title, url) => add(id, title, url)}/>;\r\n    }\r\n\r\n    let settingsDialog = null;\r\n    if (showSettings) {\r\n        settingsDialog = <SettingsDialog hideAdd={hideAdd} setHideAdd={setHideAdd} close={() => setShowSettings(false)}\r\n                                         clearStorage={clearStorage} loadData={loadData} setBackground={setBackground}\r\n                                         hideClock={hideClock} setHideClock={setHideClock} iconsPerRow={iconsPerRow}\r\n                                         setIconsPerRow={setIconsPerRow}/>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\" style={{background: `url(${background ?? DefaultBackground}) center`}}>\r\n            <header className=\"App-header\" onClick={() => closeAllFolders()}>\r\n                <div onClick={e => e.stopPropagation()}>\r\n                    <SettingsButton openSettings={showSettingsMenu}/>\r\n                </div>\r\n                <div onClick={e => e.stopPropagation()}>\r\n                    {settingsDialog}\r\n                    {config}\r\n                    {addDialog}\r\n                    {hideClock ? null : <Clock/>}\r\n                    <DndProvider backend={HTML5Backend}>\r\n                        <SiteGroup showDialog={showConfigDialog} sites={sites} add={showAddDialog} id={-1}\r\n                                   setOpen={setFolderOpen} hideAdd={hideAdd} move={move}\r\n                                   width={`${iconsPerRow * 100}px`}/>\r\n                    </DndProvider>\r\n                </div>\r\n            </header>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}